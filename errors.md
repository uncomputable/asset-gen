# `SCRIPT_ERR_SIMPLICITY_WRONG_LENGTH`

```c++
static bool VerifyWitnessProgram(const CScriptWitness& witness, int witversion, const std::vector<unsigned char>& program, unsigned int flags, const BaseSignatureChecker& checker, ScriptError* serror, bool is_p2sh)
...
if (stack.size() != 1 || script_bytes.size() != 32) return set_error(serror, SCRIPT_ERR_SIMPLICITY_WRONG_LENGTH);
```

- not exactly one script input (encoded Simplicity program + witness data)
- script is not exactly 32 bytes (CMR)

# `SCRIPT_ERR_SIMPLICITY_BITSTREAM_EOF`

- eof in middle of combinator
- eof in middle of positive integer
- eof in middle of witness block

# `SCRIPT_ERR_SIMPLICITY_NOT_YET_IMPLEMENTED`

- cannot be triggered

# `SCRIPT_ERR_SIMPLICITY_DATA_OUT_OF_RANGE`

```c++
#define DAG_LEN_MAX 8000000U
```

- program is declared length > `DAG_LEN_MAX`
- witness block is declared length >= 2^31
- index points past beginning of program
    - relative index ix is greater than current absolute node index
    - relative indices cannot be zero because zero cannot be encoded!
- jet is not defined
- word depth > 32 (word longer than 2^31 bits)

# `SCRIPT_ERR_SIMPLICITY_DATA_OUT_OF_ORDER`

- program nodes not serialized in canonical order

# `SCRIPT_ERR_SIMPLICITY_FAIL_CODE`

- fail node in program "01010" + entropy

# `SCRIPT_ERR_SIMPLICITY_STOP_CODE`

- stop sequence in program bits "01011"

# `SCRIPT_ERR_SIMPLICITY_HIDDEN`

- hidden node as child of node other than assert{l,r}

# `SCRIPT_ERR_SIMPLICITY_BITSTREAM_UNUSED_BYTES`

- trailing bytes after program encoding (program + witness block)

# `SCRIPT_ERR_SIMPLICITY_BITSTREAM_UNUSED_BITS`

- illegal padding in final byte of encoding
- padding with bits other than zeroes

# `SCRIPT_ERR_SIMPLICITY_TYPE_INFERENCE_UNIFICATION`

```c
#define UNIFY(a, b) { if (!unify((a), (b), bindings_used)) return SIMPLICITY_ERR_TYPE_INFERENCE_UNIFICATION; }
```

- types `a` and `b` are bound to two structurally different types
  - 1 and X + Y
  - 1 and X × Y
  - Z + Y and U × V
- therefore, `a` and `b` cannot be unified
- comp combinator: left target = right source
- pair combinator: left source = right source
- case combinator: left target = right target

```c
#define APPLY_BINDING(a, b) { if (!applyBinding((a), (b), bindings_used)) return SIMPLICITY_ERR_TYPE_INFERENCE_UNIFICATION; }
```

- type `a` is bound to a type that is structurally different from the binding `b`
- therefore, `a` cannot be bound to `b`
- case combinator: left source = A × C (also assertl)
- case combinator: right source = B × C (also assertr)
- disconnect combinator: left source = 2^256 × A
- disconnect combinator: left target = B × C

# `SCRIPT_ERR_SIMPLICITY_TYPE_INFERENCE_OCCURS_CHECK`

- type variable X is bound to a type that contains X

# `SCRIPT_ERR_SIMPLICITY_TYPE_INFERENCE_NOT_PROGRAM`

- program root doesn't have unit source type
- program root doesn't have unit target type

# `SCRIPT_ERR_SIMPLICITY_WITNESS_EOF`
# `SCRIPT_ERR_SIMPLICITY_WITNESS_UNUSED_BITS`
# `SCRIPT_ERR_SIMPLICITY_UNSHARED_SUBEXPRESSION`
# `SCRIPT_ERR_SIMPLICITY_CMR`
# `SCRIPT_ERR_SIMPLICITY_AMR`
# `SCRIPT_ERR_SIMPLICITY_EXEC_BUDGET`
# `SCRIPT_ERR_SIMPLICITY_EXEC_MEMORY`
# `SCRIPT_ERR_SIMPLICITY_EXEC_JET`
# `SCRIPT_ERR_SIMPLICITY_EXEC_ASSERT`
# `SCRIPT_ERR_SIMPLICITY_ANTIDOS`

# `SCRIPT_ERR_SIMPLICITY_HIDDEN_ROOT`

- program root is hidden node

# Simplicity error codes

```c++
SCRIPT_ERR_SIMPLICITY_WRONG_LENGTH = 62
SCRIPT_ERR_SIMPLICITY_BITSTREAM_EOF = 63
SCRIPT_ERR_SIMPLICITY_NOT_YET_IMPLEMENTED = 64
SCRIPT_ERR_SIMPLICITY_DATA_OUT_OF_RANGE = 65
SCRIPT_ERR_SIMPLICITY_DATA_OUT_OF_ORDER = 66
SCRIPT_ERR_SIMPLICITY_FAIL_CODE = 67
SCRIPT_ERR_SIMPLICITY_STOP_CODE = 68
SCRIPT_ERR_SIMPLICITY_HIDDEN = 69
SCRIPT_ERR_SIMPLICITY_BITSTREAM_UNUSED_BYTES = 70
SCRIPT_ERR_SIMPLICITY_BITSTREAM_UNUSED_BITS = 71
SCRIPT_ERR_SIMPLICITY_TYPE_INFERENCE_UNIFICATION = 72
SCRIPT_ERR_SIMPLICITY_TYPE_INFERENCE_OCCURS_CHECK = 73
SCRIPT_ERR_SIMPLICITY_TYPE_INFERENCE_NOT_PROGRAM = 74
SCRIPT_ERR_SIMPLICITY_WITNESS_EOF = 75
SCRIPT_ERR_SIMPLICITY_WITNESS_UNUSED_BITS = 76
SCRIPT_ERR_SIMPLICITY_UNSHARED_SUBEXPRESSION = 77
SCRIPT_ERR_SIMPLICITY_CMR = 78
SCRIPT_ERR_SIMPLICITY_AMR = 79
SCRIPT_ERR_SIMPLICITY_EXEC_BUDGET = 80
SCRIPT_ERR_SIMPLICITY_EXEC_MEMORY = 81
SCRIPT_ERR_SIMPLICITY_EXEC_JET = 82
SCRIPT_ERR_SIMPLICITY_EXEC_ASSERT = 83
SCRIPT_ERR_SIMPLICITY_ANTIDOS = 84
SCRIPT_ERR_SIMPLICITY_HIDDEN_ROOT = 85
```

# Bitcoin + Elements error codes

```c++
SCRIPT_ERR_OK = 0
SCRIPT_ERR_UNKNOWN_ERROR = 1
SCRIPT_ERR_EVAL_FALSE = 2
SCRIPT_ERR_OP_RETURN = 3
SCRIPT_ERR_SCRIPT_SIZE = 4
SCRIPT_ERR_PUSH_SIZE = 5
SCRIPT_ERR_OP_COUNT = 6
SCRIPT_ERR_STACK_SIZE = 7
SCRIPT_ERR_SIG_COUNT = 8
SCRIPT_ERR_PUBKEY_COUNT = 9
SCRIPT_ERR_VERIFY = 10
SCRIPT_ERR_EQUALVERIFY = 11
SCRIPT_ERR_CHECKMULTISIGVERIFY = 12
SCRIPT_ERR_CHECKSIGVERIFY = 13
SCRIPT_ERR_NUMEQUALVERIFY = 14
SCRIPT_ERR_BAD_OPCODE = 15
SCRIPT_ERR_DISABLED_OPCODE = 16
SCRIPT_ERR_INVALID_STACK_OPERATION = 17
SCRIPT_ERR_INVALID_ALTSTACK_OPERATION = 18
SCRIPT_ERR_UNBALANCED_CONDITIONAL = 19
SCRIPT_ERR_NEGATIVE_LOCKTIME = 20
SCRIPT_ERR_UNSATISFIED_LOCKTIME = 21
SCRIPT_ERR_SIG_HASHTYPE = 22
SCRIPT_ERR_SIG_DER = 23
SCRIPT_ERR_MINIMALDATA = 24
SCRIPT_ERR_SIG_PUSHONLY = 25
SCRIPT_ERR_SIG_HIGH_S = 26
SCRIPT_ERR_SIG_NULLDUMMY = 27
SCRIPT_ERR_PUBKEYTYPE = 28
SCRIPT_ERR_CLEANSTACK = 29
SCRIPT_ERR_MINIMALIF = 30
SCRIPT_ERR_SIG_NULLFAIL = 31
SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS = 32
SCRIPT_ERR_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM = 33
SCRIPT_ERR_DISCOURAGE_UPGRADABLE_TAPROOT_VERSION = 34
SCRIPT_ERR_DISCOURAGE_OP_SUCCESS = 35
SCRIPT_ERR_DISCOURAGE_UPGRADABLE_PUBKEYTYPE = 36
SCRIPT_ERR_WITNESS_PROGRAM_WRONG_LENGTH = 37
SCRIPT_ERR_WITNESS_PROGRAM_WITNESS_EMPTY = 38
SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH = 39
SCRIPT_ERR_WITNESS_MALLEATED = 40
SCRIPT_ERR_WITNESS_MALLEATED_P2SH = 41
SCRIPT_ERR_WITNESS_UNEXPECTED = 42
SCRIPT_ERR_WITNESS_PUBKEYTYPE = 43
SCRIPT_ERR_SCHNORR_SIG_SIZE = 44
SCRIPT_ERR_SCHNORR_SIG_HASHTYPE = 45
SCRIPT_ERR_SCHNORR_SIG = 46
SCRIPT_ERR_TAPROOT_WRONG_CONTROL_SIZE = 47
SCRIPT_ERR_TAPSCRIPT_VALIDATION_WEIGHT = 48
SCRIPT_ERR_TAPSCRIPT_CHECKMULTISIG = 49
SCRIPT_ERR_TAPSCRIPT_MINIMALIF = 50
SCRIPT_ERR_OP_CODESEPARATOR = 51
SCRIPT_ERR_SIG_FINDANDDELETE = 52
SCRIPT_ERR_RANGEPROOF = 53
SCRIPT_ERR_PEDERSEN_TALLY = 54
SCRIPT_ERR_SHA2_CONTEXT_LOAD = 55
SCRIPT_ERR_SHA2_CONTEXT_WRITE = 56
SCRIPT_ERR_INTROSPECT_CONTEXT_UNAVAILABLE = 57
SCRIPT_ERR_INTROSPECT_INDEX_OUT_OF_BOUNDS = 58
SCRIPT_ERR_EXPECTED_8BYTES = 59
SCRIPT_ERR_ARITHMETIC64 = 60
SCRIPT_ERR_ECMULTVERIFYFAIL = 61
```

# Error count (meta error)

```c++
SCRIPT_ERR_ERROR_COUNT = 86
```
